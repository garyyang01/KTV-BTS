# 🚄 鐵路搜尋測試頁面使用指南

## 概述

我們已經為您創建了一個完整的鐵路搜尋測試頁面，讓您可以實際調用 G2Rail API 並查看車票搜尋結果。

## 🎯 如何訪問測試頁面

### 方法 1: 從主頁面導航
1. 運行 Flutter 應用程式
2. 在主頁面（城堡票券預訂頁面）的右上角，點擊火車圖標 🚄
3. 這將導航到鐵路搜尋測試頁面

### 方法 2: 直接導航
在應用程式中直接導航到 `/rail-search-test` 路由

## 📱 測試頁面功能

### 🔍 搜尋表單
- **出發地**: 輸入出發城市（預設: Frankfurt）
- **目的地**: 輸入目的地城市（預設: Berlin）
- **出發日期**: 點擊日曆圖標選擇日期（預設: 7天後）
- **出發時間**: 輸入時間格式 HH:mm（預設: 08:00）
- **乘客數量**: 
  - 成人（預設: 1）
  - 兒童（預設: 0）
  - 青少年（預設: 0）
  - 長者（預設: 0）
  - 嬰兒（預設: 0）

### 🚀 搜尋流程
1. 填寫搜尋條件
2. 點擊「開始搜尋」按鈕
3. 系統會顯示搜尋狀態和進度
4. 等待搜尋完成（通常需要 3-10 秒）
5. 查看搜尋結果

### 📊 結果顯示
- **狀態信息**: 顯示搜尋進度和結果統計
- **班次列表**: 以卡片形式顯示找到的火車班次
- **詳細信息**: 點擊班次卡片可查看詳細信息
- **價格信息**: 顯示價格和貨幣
- **路線信息**: 顯示出發/到達時間和地點

## 🌍 支援的城市範例

### 德國
- Frankfurt (法蘭克福)
- Berlin (柏林)
- Munich (慕尼黑)
- Hamburg (漢堡)

### 法國
- Paris (巴黎)
- Lyon (里昂)
- Marseille (馬賽)

### 義大利
- Rome (羅馬)
- Milan (米蘭)
- Venice (威尼斯)

### 西班牙
- Madrid (馬德里)
- Barcelona (巴塞羅那)

### 瑞士
- Zurich (蘇黎世)
- Geneva (日內瓦)

### 奧地利
- Vienna (維也納)
- Salzburg (薩爾斯堡)

## 🧪 測試建議

### 基本測試
1. **德國境內**: Frankfurt → Berlin
2. **跨國路線**: Munich → Zurich
3. **不同時間**: 測試早上、下午、晚上的班次

### 進階測試
1. **多乘客**: 測試成人+兒童組合
2. **不同日期**: 測試平日和週末
3. **長途路線**: 測試需要轉乘的路線

## 📋 預期的 API 響應格式

### 搜尋成功響應
```json
{
  "solutions": [
    {
      "id": "solution_id",
      "price": 89.50,
      "currency": "EUR",
      "from": "Frankfurt",
      "to": "Berlin",
      "departure": "2024-01-15T08:30:00",
      "arrival": "2024-01-15T12:45:00",
      "duration": "4h15m",
      "train_number": "ICE 1234",
      "carrier": "DB"
    }
  ]
}
```

## 🔧 故障排除

### 常見問題

1. **搜尋失敗**
   - 檢查城市名稱拼寫
   - 確認日期格式正確
   - 檢查網路連接

2. **無結果返回**
   - 嘗試不同的城市組合
   - 調整出發時間
   - 檢查日期是否太遠或太近

3. **API 錯誤**
   - 查看控制台日誌
   - 檢查 G2Rail API 憑證
   - 確認 API 服務狀態

### 日誌信息
測試頁面會在控制台輸出詳細的 API 調用日誌，包括：
- 請求 URL 和參數
- 響應狀態碼
- 響應數據
- 錯誤信息

## 🚀 運行應用程式

```bash
cd /Users/jasonhung/Works/Jason/KTV-BTS/ktv_bts
flutter run
```

## 📱 測試步驟

1. 啟動應用程式
2. 點擊右上角的火車圖標 🚄
3. 在測試頁面中填寫搜尋條件
4. 點擊「開始搜尋」
5. 等待結果並查看班次信息
6. 點擊班次卡片查看詳細信息

## 💡 提示

- 首次搜尋可能需要較長時間，請耐心等待
- 某些路線可能需要轉乘，結果會顯示多個班次
- 價格可能因時間和日期而有所不同
- 建議在網路穩定的環境下進行測試

現在您可以開始測試鐵路搜尋功能了！🎉
