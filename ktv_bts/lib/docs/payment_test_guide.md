# Stripe æ”¯ä»˜æ¸¬è©¦æŒ‡å—

## ğŸ§ª æ¸¬è©¦é é¢åŠŸèƒ½

æˆ‘å·²ç¶“ç‚ºæ‚¨å‰µå»ºäº†ä¸€å€‹å®Œæ•´çš„æ¸¬è©¦é é¢ `PaymentTestPage`ï¼Œç”¨ä¾†é©—è­‰æˆ‘å€‘çš„ Stripe æœå‹™æ˜¯å¦çœŸçš„èƒ½æ”¶åˆ°éŒ¢ã€‚

### ğŸ“± æ¸¬è©¦é é¢åŠŸèƒ½

1. **å‰µå»ºæ”¯ä»˜æ„åœ–** - æ¸¬è©¦æˆ‘å€‘çš„æœå‹™æ˜¯å¦èƒ½æˆåŠŸèª¿ç”¨ Stripe API
2. **ç¢ºèªæ”¯ä»˜** - ä½¿ç”¨æ¸¬è©¦ä¿¡ç”¨å¡å®Œæˆæ”¯ä»˜
3. **æŸ¥è©¢ç‹€æ…‹** - æª¢æŸ¥æ”¯ä»˜ç‹€æ…‹
4. **æ¸…é™¤çµæœ** - é‡ç½®æ¸¬è©¦çµæœ

### ğŸ”§ Hardcoded æ¸¬è©¦åƒæ•¸

```dart
final String _testCustomerName = 'å¼µä¸‰';
final bool _testIsAdult = true;
final String _testTime = 'Morning';
// é æœŸé‡‘é¡: 20.0 EUR (æˆäºº)
```

### ğŸ¯ æ¸¬è©¦æ­¥é©Ÿ

1. **å•Ÿå‹•æ‡‰ç”¨**
   ```bash
   flutter run
   ```

2. **é»æ“Š "å‰µå»ºæ”¯ä»˜æ„åœ–"**
   - æª¢æŸ¥æ˜¯å¦æˆåŠŸå‰µå»ºæ”¯ä»˜æ„åœ–
   - è¨˜éŒ„ `payment_intent_id` å’Œ `client_secret`

3. **æª¢æŸ¥ Stripe Dashboard**
   - å‰å¾€: https://dashboard.stripe.com/test/payments
   - ç¢ºèªæ˜¯å¦çœ‹åˆ°æ–°çš„æ”¯ä»˜æ„åœ–
   - è¨˜éŒ„æ”¯ä»˜æ„åœ– ID å’Œç‹€æ…‹

4. **é»æ“Š "ç¢ºèªæ”¯ä»˜"**
   - ä½¿ç”¨ Stripe æ¸¬è©¦ä¿¡ç”¨å¡å®Œæˆæ”¯ä»˜
   - æª¢æŸ¥æ”¯ä»˜ç‹€æ…‹æ˜¯å¦è®Šç‚º `succeeded`

5. **å†æ¬¡æª¢æŸ¥ Stripe Dashboard**
   - ç¢ºèªæ”¯ä»˜æ˜¯å¦çœŸçš„å®Œæˆ
   - æª¢æŸ¥é‡‘é¡æ˜¯å¦æ­£ç¢º (20 EUR)
   - æŸ¥çœ‹æ”¯ä»˜è©³æƒ…

### ğŸ’³ Stripe æ¸¬è©¦ä¿¡ç”¨å¡

æˆ‘å€‘ä½¿ç”¨ Stripe æä¾›çš„æ¸¬è©¦æ”¯ä»˜æ–¹å¼ï¼š
- **æ”¯ä»˜æ–¹å¼ ID**: `pm_card_visa`
- **æ¸¬è©¦å¡è™Ÿ**: 4242 4242 4242 4242
- **æœ‰æ•ˆæœŸ**: ä»»ä½•æœªä¾†æ—¥æœŸ
- **CVC**: ä»»ä½• 3 ä½æ•¸å­—

### ğŸ” é æœŸçµæœ

#### æˆåŠŸå‰µå»ºæ”¯ä»˜æ„åœ–
```json
{
  "success": true,
  "payment_intent_id": "pi_test_123456789",
  "client_secret": "pi_test_123456789_secret_abc123",
  "status": "requires_payment_method",
  "amount": 20.0,
  "currency": "EUR",
  "error_message": null
}
```

#### æˆåŠŸç¢ºèªæ”¯ä»˜
```json
{
  "success": true,
  "payment_intent_id": "pi_test_123456789",
  "status": "succeeded",
  "amount": 20.0,
  "currency": "EUR",
  "error_message": null
}
```

### ğŸš¨ å¸¸è¦‹å•é¡Œ

1. **API é‡‘é‘°éŒ¯èª¤**
   - æª¢æŸ¥ `.env` æª”æ¡ˆä¸­çš„ API é‡‘é‘°æ˜¯å¦æ­£ç¢º
   - ç¢ºèªä½¿ç”¨çš„æ˜¯æ¸¬è©¦é‡‘é‘° (ä»¥ `pk_test_` å’Œ `sk_test_` é–‹é ­)

2. **ç¶²çµ¡éŒ¯èª¤**
   - æª¢æŸ¥ç¶²çµ¡é€£æ¥
   - ç¢ºèª Stripe API å¯è¨ªå•

3. **æ”¯ä»˜å¤±æ•—**
   - æª¢æŸ¥æ¸¬è©¦ä¿¡ç”¨å¡æ˜¯å¦æœ‰æ•ˆ
   - ç¢ºèªæ”¯ä»˜æ„åœ–ç‹€æ…‹

### ğŸ“Š Stripe Dashboard æª¢æŸ¥é …ç›®

åœ¨ Stripe Dashboard ä¸­æª¢æŸ¥ï¼š

1. **æ”¯ä»˜æ„åœ–åˆ—è¡¨**
   - æ˜¯å¦å‡ºç¾æ–°çš„æ”¯ä»˜æ„åœ–
   - æ”¯ä»˜æ„åœ– ID æ˜¯å¦åŒ¹é…

2. **æ”¯ä»˜è©³æƒ…**
   - é‡‘é¡: 20.00 EUR
   - ç‹€æ…‹: succeeded
   - å®¢æˆ¶è³‡è¨Š: å¼µä¸‰
   - æè¿°: KTV æ¸¬è©¦æ”¯ä»˜ - Morning æ™‚æ®µ

3. **æ¸¬è©¦æ•¸æ“š**
   - ç¢ºèªé€™æ˜¯æ¸¬è©¦ç’°å¢ƒ (Test mode)
   - æª¢æŸ¥æ”¯ä»˜æ–¹å¼è©³æƒ…

### ğŸ‰ æˆåŠŸæ¨™èªŒ

å¦‚æœæ¸¬è©¦æˆåŠŸï¼Œæ‚¨æ‡‰è©²çœ‹åˆ°ï¼š

1. âœ… æ‡‰ç”¨ä¸­é¡¯ç¤º "æ”¯ä»˜ç¢ºèªæˆåŠŸï¼"
2. âœ… Stripe Dashboard ä¸­å‡ºç¾æ–°çš„æ”¯ä»˜è¨˜éŒ„
3. âœ… æ”¯ä»˜ç‹€æ…‹ç‚º `succeeded`
4. âœ… é‡‘é¡æ­£ç¢ºé¡¯ç¤ºç‚º 20.00 EUR

### ğŸ”— æœ‰ç”¨é€£çµ

- **Stripe Dashboard**: https://dashboard.stripe.com/test/payments
- **Stripe æ¸¬è©¦æ–‡æª”**: https://stripe.com/docs/testing
- **Stripe API æ–‡æª”**: https://stripe.com/docs/api

### ğŸ’¡ æç¤º

- æ¸¬è©¦ç’°å¢ƒä¸æœƒçœŸçš„æ”¶éŒ¢
- æ‰€æœ‰æ¸¬è©¦æ”¯ä»˜éƒ½æ˜¯æ¨¡æ“¬çš„
- å¯ä»¥åœ¨ Stripe Dashboard ä¸­æŸ¥çœ‹è©³ç´°çš„æ”¯ä»˜æµç¨‹
- æ¸¬è©¦å®Œæˆå¾Œï¼Œå¯ä»¥åœ¨ Dashboard ä¸­åˆªé™¤æ¸¬è©¦æ•¸æ“š
